<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mini Proxy Browser</title>
  <style>
    body{font-family:system-ui,Segoe UI,sans-serif;background:#0d1117;color:#e6edf3;margin:0;padding:1.5rem}
    h1{margin-top:0}
    #controls{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem}
    input,button{padding:.6rem .8rem;border-radius:6px;border:1px solid #30363d;background:#161b22;color:#e6edf3;font-size:14px}
    button:hover{background:#21262d;cursor:pointer}
    iframe{width:100%;height:75vh;border:1px solid #30363d;border-radius:8px;background:#0d1117}
    small{color:#8b949e}
  </style>
</head>
<body>
<h1>üåê Mini Proxy Browser</h1>
<p><small>Hosted on GitHub Pages. To embed sites that block iframes, deploy the proxy in step 3 and use ‚ÄúLoad via Proxy‚Äù.</small></p>

<div id="controls">
  <input id="url" placeholder="https://example.com or discord.com/app" style="min-width:350px">
  <button id="load">Load in iframe</button>
  <button id="open">Open in new tab</button>
  <button id="proxy">Load via Proxy</button>
</div>

<iframe id="view" allow="autoplay"></iframe>

<script>
  // üîß Replace this after you deploy Cloudflare Worker (step 3)
  const PROXY_BASE = "https://lightymode.30asmirnoff.workers.dev";

  const urlEl=document.getElementById("url");
  const view=document.getElementById("view");

  const norm=u=>u?(/^https?:\/\//i.test(u)?u:"https://"+u):"";

  document.getElementById("load").onclick=()=>{
    const u=norm(urlEl.value.trim());
    if(!u) return alert("Enter URL");
    view.src=u;
  };

  document.getElementById("open").onclick=()=>{
    const u=norm(urlEl.value.trim());
    if(!u) return alert("Enter URL");
    window.open(u,"_blank","noopener");
  };

  document.getElementById("proxy").onclick=()=>{
    if(PROXY_BASE==="PROXY_BASE")
      return alert("Set your Cloudflare Worker URL first!");
    const u=norm(urlEl.value.trim());
    if(!u) return alert("Enter URL");
    view.src=PROXY_BASE.replace(/\/$/,"")+"/proxy?url="+encodeURIComponent(u);
  };
</script>
</body>
</html>
